<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KT Mobile Store</title>
    
    <!-- 1. λ””μμΈ λ„κµ¬ (Tailwind CSS) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        kt: '#DC2626',
                        dark: '#1F2937',
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'block': '4px 4px 0 rgba(0, 0, 0, 0.1)', // 3D λΈ”λ­ κ·Έλ¦Όμ
                    }
                }
            }
        }
    </script>
    
    <!-- 2. μ•„μ΄μ½ λ„κµ¬ -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- 3. μ΄λ©”μΌ μ•λ¦Ό λ„κµ¬ (EmailJS) -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <script type="text/javascript">
        (function(){
            // [μ¤‘μ”] μ‚¬μ¥λ‹μ EmailJS Public Key μ…λ ¥
            emailjs.init("oM5C3k8SXXow-GN5v"); 
        })();
    </script>

    <!-- 4. ν°νΈ (Pretendard) -->
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        body { font-family: 'Pretendard', sans-serif; letter-spacing: -0.02em; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        @keyframes ticker {
            0% { transform: translateY(0); }
            100% { transform: translateY(-100%); }
        }
        .ticker-wrapper { overflow: hidden; height: 3rem; }
        .ticker-content { animation: ticker 10s linear infinite; }

        .nav-item.active { color: #DC2626; font-weight: 800; border-bottom: 2px solid #DC2626; }

        .group-label { @apply text-sm font-bold text-slate-800 mb-2 block; }
        
        /* [NEW] νΌ μ„Ήμ… λ°•μ¤ μ¤νƒ€μΌ (3D λΈ”λ­ λλ‚) */
        .section-box { 
            /* κ·Έλ¦Όμμ™€ ν…λ‘λ¦¬λ΅ λΈ”λ­ κµ¬λ¶„ κ°•μ΅°, μ—¬λ°± μ¦κ°€ */
            @apply bg-white p-5 md:p-6 rounded-2xl border border-slate-200 shadow-block mb-6 md:mb-8 transition-all duration-200 hover:shadow-lg; 
        }
        
        /* μ„ νƒ λ²„νΌ μ¤νƒ€μΌ (λ¨λ°”μΌ μµμ ν™”) */
        .select-btn { 
            @apply w-full border border-slate-200 bg-white rounded-xl transition-all duration-200 relative overflow-hidden;
        }
        .select-btn:hover { @apply border-slate-400; }
        .select-btn.active { 
            @apply border-red-500 bg-red-50/30 ring-1 ring-red-500 text-red-600 font-bold; 
        }
        
        /* μƒμ„Ένμ΄μ§€ μµμ… λ²„νΌ (ν…μ¤νΈ μ •λ ¬ λ° μ—¬λ°± μμ •) */
        .opt-btn-content {
            @apply flex flex-col justify-center items-center h-full w-full py-3 px-1;
        }

        .custom-select {
            @apply w-full bg-white border border-slate-200 text-slate-700 text-sm rounded-xl focus:ring-red-500 focus:border-red-500 block w-full p-3 md:p-3.5 appearance-none font-medium;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.75rem center;
            background-repeat: no-repeat;
            background-size: 1.25em 1.25em;
        }

        .custom-input {
            @apply bg-slate-50 border border-slate-200 text-slate-900 text-sm rounded-xl focus:ring-red-500 focus:border-red-500 block w-full p-3 md:p-3.5 outline-none transition-all focus:bg-white;
        }
        
        .internet-tab.active { background-color: #000; color: #fff; border-color: #000; font-weight: 800; }
        .stb-btn.active { background-color: #000; color: #fff; border-color: #000; font-weight: bold; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 pb-32">

    <!-- [ν—¤λ”] -->
    <header class="bg-white border-b sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 h-14 md:h-16 flex items-center justify-between">
            <div class="flex items-center gap-2 cursor-pointer" onclick="location.reload()">
                <img src="https://i.ibb.co/DDRdWK7Q/ktlogo.png" alt="KT Logo" class="h-5 md:h-6">
                <span class="text-lg md:text-2xl font-bold text-red-600 tracking-tight">mobile store</span>
            </div>
            <nav class="hidden md:flex gap-8 text-sm font-bold text-slate-600">
                <a href="javascript:void(0)" onclick="filterProducts('home')" data-tab="home" class="nav-item active hover:text-red-600 transition py-5 border-b-2 border-red-600 text-red-600">ν™</a>
                <a href="javascript:void(0)" onclick="filterProducts('all')" data-tab="all" class="nav-item hover:text-red-600 transition py-5">μ „μ²΄</a>
                <a href="javascript:void(0)" onclick="filterProducts('samsung')" data-tab="samsung" class="nav-item hover:text-red-600 transition py-5">μ‚Όμ„±</a>
                <a href="javascript:void(0)" onclick="filterProducts('apple')" data-tab="apple" class="nav-item hover:text-red-600 transition py-5">μ• ν”</a>
                <a href="javascript:void(0)" onclick="filterProducts('internet')" data-tab="internet" class="nav-item hover:text-red-600 transition py-5">μΈν„°λ„·+TV</a>
            </nav>
            <a href="http://pf.kakao.com/_XRxaan/chat" target="_blank" class="bg-[#FEE500] text-[#3c1e1e] px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs font-bold shadow-md hover:bg-[#fdd835] transition flex items-center">
                <i data-lucide="message-circle" class="w-3.5 h-3.5 md:w-4 md:h-4 mr-1"></i> μΉ΄μΉ΄μ¤ν†΅ λ¬Έμ
            </a>
        </div>
        <div class="md:hidden border-t border-slate-100 bg-white">
            <nav class="flex text-sm font-bold text-slate-600 px-2 overflow-x-auto no-scrollbar whitespace-nowrap">
                <a href="javascript:void(0)" onclick="filterProducts('home')" data-tab="home" class="nav-item active flex-shrink-0 px-3 py-3 hover:text-red-600 transition border-b-2 border-red-600 text-red-600">ν™</a>
                <a href="javascript:void(0)" onclick="filterProducts('all')" data-tab="all" class="nav-item flex-shrink-0 px-3 py-3 hover:text-red-600 transition">μ „μ²΄</a>
                <a href="javascript:void(0)" onclick="filterProducts('samsung')" data-tab="samsung" class="nav-item flex-shrink-0 px-3 py-3 hover:text-red-600 transition">μ‚Όμ„±</a>
                <a href="javascript:void(0)" onclick="filterProducts('apple')" data-tab="apple" class="nav-item flex-shrink-0 px-3 py-3 hover:text-red-600 transition">μ• ν”</a>
                <a href="javascript:void(0)" onclick="filterProducts('internet')" data-tab="internet" class="nav-item flex-shrink-0 px-3 py-3 hover:text-red-600 transition">μΈν„°λ„·+TV</a>
            </nav>
        </div>
    </header>

    <!-- [λ©”μΈ μ„Ήμ…] -->
    <main class="max-w-6xl mx-auto px-4 mt-4 md:mt-6">
        <!-- νμ–΄λ΅ λ°°λ„ -->
        <div id="home-top-section" class="mb-8 md:mb-12">
            <div id="main-banner" class="w-full bg-gradient-to-r from-purple-900 to-slate-900 rounded-2xl min-h-[200px] md:h-64 relative overflow-hidden text-white flex flex-col justify-center px-6 md:px-8 py-6 shadow-lg transition-all duration-500">
                <div class="z-10 transition-all duration-500 relative" id="banner-content">
                    <span id="banner-tag" class="bg-red-600 text-white text-[10px] px-2 py-0.5 rounded font-bold mb-1.5 inline-block">INTERNET + TV</span>
                    <h2 class="text-2xl md:text-3xl font-black mb-1 leading-tight">μ΄κ³ μ† μΈν„°λ„·<br class="md:hidden">+ μ§€λ‹TV λ¨λ“ G</h2>
                    <p id="banner-desc" class="text-slate-300 text-xs md:text-sm mb-4 mt-1">λ„·ν”λ¦­μ¤, λ””μ¦λ‹+κΉμ§€ ν• λ²μ—</p>
                    <button onclick="openOrderForm('μΈν„°λ„·+TV')" id="banner-btn" class="bg-white text-black px-4 py-2 md:px-5 md:py-2 rounded-lg text-xs font-bold hover:bg-slate-100 transition inline-block">μ‹ μ²­ν•κΈ°</button>
                </div>
                <img id="banner-img" src="https://i.ibb.co/XkbkbLQp/jini.jpg" class="absolute right-[-10px] bottom-[-10px] w-40 md:right-24 md:top-6 md:w-60 md:bottom-auto drop-shadow-2xl transition-all duration-500 rounded-lg z-0 object-contain object-right opacity-80 md:opacity-100" alt="κ΄‘κ³ μƒν’">
            </div>
        </div>

        <!-- μƒν’ μ§„μ—΄ μμ—­ -->
        <div class="mb-12">
            <h2 id="section-title" class="text-xl md:text-2xl font-bold text-center mb-1 text-slate-900 flex items-center justify-center">π† BEST SELLER</h2>
            <p id="section-desc" class="text-center text-slate-500 text-xs md:text-sm mb-6 md:mb-8">κ°€μ¥ λ§μ€ κ³ κ°λ‹μ΄ μ„ νƒν• μΈκΈ° λ¨λΈ</p>

            <div id="product-grid" class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6"></div>

            <!-- μΈν„°λ„·+TV μ „μ© μ”κΈν‘ -->
            <div id="internet-pricing-section" class="hidden animate-in fade-in">
                <div class="flex flex-col items-center mb-8">
                     <h2 class="text-2xl md:text-3xl font-black text-slate-900 mb-4">KT μΈν„°λ„· + TV</h2>
                     <div class="bg-slate-100 p-1 rounded-full flex">
                         <button onclick="toggleNetType('bundle')" id="tab-bundle" class="px-4 py-1.5 md:px-6 md:py-2 rounded-full text-xs md:text-sm font-bold bg-white shadow text-black">TV κ²°ν•©μƒν’</button>
                         <button onclick="toggleNetType('single')" id="tab-single" class="px-4 py-1.5 md:px-6 md:py-2 rounded-full text-xs md:text-sm font-bold text-slate-500 hover:text-black">μΈν„°λ„· λ‹¨λ…</button>
                     </div>
                </div>

                <!-- [1] μΈν„°λ„· + TV κ²°ν•©μƒν’ -->
                <div id="view-bundle" class="bg-white rounded-2xl md:rounded-3xl p-5 md:p-10 shadow-xl border border-slate-200">
                    <div class="flex justify-center mb-6 md:mb-8 gap-1 md:gap-2">
                        <button onclick="setNetSpeed('100M')" id="btn-100m" class="internet-tab active px-3 py-2 md:px-6 md:py-3 rounded-full border border-slate-200 text-slate-500 font-bold transition text-xs md:text-sm">100M (μ¬λ¦Ό)</button>
                        <button onclick="setNetSpeed('500M')" id="btn-500m" class="internet-tab px-3 py-2 md:px-6 md:py-3 rounded-full border border-slate-200 text-slate-500 font-bold transition text-xs md:text-sm">500M (λ² μ΄μ§)</button>
                        <button onclick="setNetSpeed('1G')" id="btn-1g" class="internet-tab px-3 py-2 md:px-6 md:py-3 rounded-full border border-slate-200 text-slate-500 font-bold transition text-xs md:text-sm">1G (μ—μ„Όμ¤)</button>
                    </div>

                    <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-6 md:mb-8 gap-4 border-b border-slate-100 pb-4 md:pb-6">
                        <div>
                            <h2 class="text-xl md:text-3xl font-black text-slate-900 mb-1">
                                KT μΈν„°λ„· <span id="net-title" class="text-red-600">μ¬λ¦Ό</span> + μ§€λ‹ TV
                            </h2>
                            <p class="text-slate-500 text-xs md:text-sm">μ•½μ • 3λ…„ κΈ°μ¤€, λ¶€κ°€μ„Έ ν¬ν•¨ κΈμ•΅μ…λ‹λ‹¤.</p>
                        </div>
                        <div class="w-full md:w-auto">
                            <p class="text-xs font-bold text-slate-800 mb-2 flex items-center"><i data-lucide="monitor-speaker" class="w-3 h-3 md:w-4 md:h-4 mr-1"></i> TV μ…‹νƒ‘λ°•μ¤ μ„ νƒ</p>
                            <div class="grid grid-cols-4 gap-1 bg-slate-100 p-1 rounded-lg">
                                <button onclick="setSettop('genieA')" class="stb-btn active px-2 py-1.5 md:px-3 md:py-2 rounded-md text-[10px] md:text-xs transition border border-transparent whitespace-nowrap">κΈ°κ°€μ§€λ‹A</button>
                                <button onclick="setSettop('genie3A')" class="stb-btn px-2 py-1.5 md:px-3 md:py-2 rounded-md text-[10px] md:text-xs transition border border-transparent whitespace-nowrap">κΈ°κ°€μ§€λ‹3</button>
                                <button onclick="setSettop('genie4')" class="stb-btn px-2 py-1.5 md:px-3 md:py-2 rounded-md text-[10px] md:text-xs transition border border-transparent whitespace-nowrap">μ§€λ‹4</button>
                                <button onclick="setSettop('sound')" class="stb-btn px-2 py-1.5 md:px-3 md:py-2 rounded-md text-[10px] md:text-xs transition border border-transparent whitespace-nowrap">μ‚¬μ΄λ“λ°”</button>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
                        <div class="border border-slate-200 rounded-2xl p-5 md:p-6 hover:border-red-500 transition shadow-sm hover:shadow-md bg-white relative overflow-hidden group">
                            <div class="mb-3">
                                <h3 class="text-lg md:text-xl font-bold text-slate-900">μ§€λ‹ TV λ² μ΄μ§</h3>
                                <p class="text-xs md:text-sm text-slate-500 mt-1">μ±„λ„ 230μ—¬ κ°</p>
                                <p class="text-[10px] md:text-xs text-slate-400 mt-0.5 st-name">κΈ°κ°€μ§€λ‹A μ…‹νƒ‘</p>
                            </div>
                            <div class="space-y-1 mb-4">
                                <div class="flex justify-between text-xs md:text-sm text-slate-500"><span>3λ…„ μ•½μ •</span><span class="line-through decoration-slate-400" id="price-basic-origin">37,400μ›</span></div>
                                <div class="flex justify-between items-end border-t border-slate-100 pt-2">
                                    <span class="font-bold text-slate-700 text-sm">κ²°ν•© μ‹</span>
                                    <span class="text-xl md:text-2xl font-black text-red-600" id="price-basic-sale">31,900μ›</span>
                                </div>
                            </div>
                            <button onclick="openDetailModal('μΈν„°λ„·+TV', 'μ§€λ‹ TV λ² μ΄μ§')" class="w-full border border-slate-300 text-slate-700 py-3 rounded-xl font-bold text-sm hover:bg-slate-50 transition">κ°„νΈ μƒλ‹΄ μ‹ μ²­</button>
                        </div>
                        <div class="border-2 border-red-500 rounded-2xl p-5 md:p-6 shadow-md bg-red-50/10 relative overflow-hidden">
                            <div class="absolute top-0 right-0 bg-red-600 text-white text-[10px] px-2 py-1 rounded-bl-xl font-bold">κ°•λ ¥μ¶”μ²</div>
                            <div class="mb-3">
                                <h3 class="text-lg md:text-xl font-bold text-slate-900">μ§€λ‹ TV λ¨λ“ G</h3>
                                <p class="text-xs md:text-sm text-slate-500 mt-1">μ±„λ„ 250μ—¬ κ° + VODλ¬΄λ£</p>
                                <p class="text-[10px] md:text-xs text-slate-400 mt-0.5 st-name">κΈ°κ°€μ§€λ‹A μ…‹νƒ‘</p>
                            </div>
                            <div class="space-y-1 mb-4">
                                <div class="flex justify-between text-xs md:text-sm text-slate-500"><span>3λ…„ μ•½μ •</span><span class="line-through decoration-slate-400" id="price-all-origin">42,900μ›</span></div>
                                <div class="flex justify-between items-end border-t border-red-100 pt-2">
                                    <span class="font-bold text-slate-700 text-sm">κ²°ν•© μ‹</span>
                                    <span class="text-xl md:text-2xl font-black text-red-600" id="price-all-sale">37,400μ›</span>
                                </div>
                            </div>
                            <button onclick="openDetailModal('μΈν„°λ„·+TV', 'μ§€λ‹ TV λ¨λ“ G')" class="w-full bg-red-600 text-white py-3 rounded-xl font-bold text-sm hover:bg-red-700 transition shadow">κ°„νΈ μƒλ‹΄ μ‹ μ²­</button>
                        </div>
                        <div class="border border-slate-200 rounded-2xl p-5 md:p-6 hover:border-red-500 transition shadow-sm hover:shadow-md bg-white relative overflow-hidden group">
                            <div class="mb-3">
                                <h3 class="text-lg md:text-xl font-bold text-slate-900">μ§€λ‹ TV λ””μ¦λ‹+</h3>
                                <p class="text-xs md:text-sm text-slate-500 mt-1">μ±„λ„ 250μ—¬ κ° + λ””μ¦λ‹+</p>
                                <p class="text-[10px] md:text-xs text-slate-400 mt-0.5 st-name">κΈ°κ°€μ§€λ‹A μ…‹νƒ‘</p>
                            </div>
                            <div class="space-y-1 mb-4">
                                <div class="flex justify-between text-xs md:text-sm text-slate-500"><span>3λ…„ μ•½μ •</span><span class="line-through decoration-slate-400" id="price-ott-origin">45,200μ›</span></div>
                                <div class="flex justify-between items-end border-t border-slate-100 pt-2">
                                    <span class="font-bold text-slate-700 text-sm">κ²°ν•© μ‹</span>
                                    <span class="text-xl md:text-2xl font-black text-red-600" id="price-ott-sale">39,700μ›</span>
                                </div>
                            </div>
                            <button onclick="openDetailModal('μΈν„°λ„·+TV', 'μ§€λ‹ TV λ””μ¦λ‹+λ¨λ“ G')" class="w-full border border-slate-300 text-slate-700 py-3 rounded-xl font-bold text-sm hover:bg-slate-50 transition">κ°„νΈ μƒλ‹΄ μ‹ μ²­</button>
                        </div>
                    </div>
                </div>

                <!-- [2] μΈν„°λ„· λ‹¨λ… -->
                <div id="view-single" class="hidden bg-white rounded-3xl p-8 shadow-xl border border-slate-200">
                    <h3 class="text-2xl font-black text-slate-900 mb-6 border-b pb-4">KTμΈν„°λ„· λ‹¨λ…</h3>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                        <div class="md:col-span-1 bg-slate-50 p-6 rounded-2xl">
                            <h4 class="font-bold text-lg mb-4">κ³µν†µννƒ</h4>
                            <ul class="text-sm text-slate-600 space-y-2 list-disc pl-4">
                                <li>GiGA WiFi κ³µμ κΈ° μ„¤μΉ μ‹<br><span class="text-xs text-slate-400">- μΈν„°λ„· μ—μ„Όμ¤ μ‚¬μ© μ‹ λ¬΄λ£</span><br><span class="text-xs text-slate-400">- λ² μ΄μ§, μ¬λ¦Ό μ‚¬μ© μ‹ μ›” 1,100μ› μ¶”κ°€</span></li>
                                <li>λ¨λ“  μ”κΈμ€ λ¶€κ°€μ„Έ ν¬ν•¨ κΈμ•΅μ…λ‹λ‹¤.</li>
                            </ul>
                        </div>
                        <div class="md:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="border border-slate-200 rounded-2xl p-6 hover:shadow-lg transition">
                                <h4 class="text-lg font-bold mb-1">μΈν„°λ„· μ¬λ¦Ό</h4>
                                <p class="text-xs text-slate-400 mb-6">μµλ€μ†λ„ 100Mbps</p>
                                <div class="mb-4"><p class="text-xs text-slate-500">3λ…„ μ•½μ • κΈ°μ¤€</p><p class="text-xl font-bold">μ›” 22,000μ›</p></div>
                                <button onclick="openDetailModal('μΈν„°λ„·+TV', 'μΈν„°λ„· μ¬λ¦Ό')" class="mt-6 w-full py-3 rounded-xl border border-slate-300 text-sm font-bold hover:bg-slate-50">μ‹ μ²­ν•κΈ°</button>
                            </div>
                            <div class="border border-slate-200 rounded-2xl p-6 hover:shadow-lg transition bg-red-50/30 border-red-100">
                                <h4 class="text-lg font-bold mb-1">μΈν„°λ„· λ² μ΄μ§</h4>
                                <p class="text-xs text-slate-400 mb-6">μµλ€μ†λ„ 500Mbps</p>
                                <div class="mb-4"><p class="text-xs text-slate-500">3λ…„ μ•½μ • κΈ°μ¤€</p><p class="text-xl font-bold">μ›” 33,000μ›</p></div>
                                <button onclick="openDetailModal('μΈν„°λ„·+TV', 'μΈν„°λ„· λ² μ΄μ§')" class="mt-6 w-full py-3 rounded-xl bg-red-600 text-white text-sm font-bold hover:bg-red-700">μ‹ μ²­ν•κΈ°</button>
                            </div>
                            <div class="border border-slate-200 rounded-2xl p-6 hover:shadow-lg transition">
                                <h4 class="text-lg font-bold mb-1">μΈν„°λ„· μ—μ„Όμ¤</h4>
                                <p class="text-xs text-slate-400 mb-6">μµλ€μ†λ„ 1Gbps</p>
                                <div class="mb-4"><p class="text-xs text-slate-500">3λ…„ μ•½μ • κΈ°μ¤€</p><p class="text-xl font-bold">μ›” 38,500μ›</p></div>
                                <button onclick="openDetailModal('μΈν„°λ„·+TV', 'μΈν„°λ„· μ—μ„Όμ¤')" class="mt-6 w-full py-3 rounded-xl border border-slate-300 text-sm font-bold hover:bg-slate-50">μ‹ μ²­ν•κΈ°</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ν•λ‹¨ λ°°λ„ -->
        <div id="home-bottom-section" class="bg-black text-white p-5 md:p-8 rounded-2xl mt-10 relative overflow-hidden flex flex-col md:flex-row items-center justify-between shadow-2xl gap-6">
            <div class="relative z-10 text-center md:text-left">
                <span class="text-yellow-400 font-bold tracking-widest text-xs md:text-sm">BLACK FRIDAY</span>
                <h2 class="text-xl md:text-3xl font-black mt-1 mb-2">κ°€μ „ μ‚¬μ€ν’ μ§€κΈ‰ ν”„λ΅λ¨μ…</h2>
                <p class="text-slate-400 text-xs md:text-base">ν΄λ€ν° κΈ°μΆ… λ¬΄κ΄€, κ°€μ „κµ¬λ…μ΄μ΄μ¤ μ”κΈμ  κ°ν†µ μ‹<br class="block md:hidden"> μ‚¬μ€ν’μ„ νƒ1 λ“λ¦½λ‹λ‹¤</p>
            </div>
            <div class="flex flex-wrap gap-2 justify-center md:justify-end">
                <div class="px-3 py-1.5 md:px-4 md:py-2 bg-white/10 rounded-full border border-white/20 text-[10px] md:text-sm font-bold backdrop-blur-sm">μ‚Όνƒ λ°”μ΄λ―Έ</div>
                <div class="px-3 py-1.5 md:px-4 md:py-2 bg-white/10 rounded-full border border-white/20 text-[10px] md:text-sm font-bold backdrop-blur-sm">μ‚Όμ„± UHD TV</div>
                <div class="px-3 py-1.5 md:px-4 md:py-2 bg-white/10 rounded-full border border-white/20 text-[10px] md:text-sm font-bold backdrop-blur-sm">LG μ½”λ“μ λ΅</div>
            </div>
        </div>

        <!-- μ‹¤μ‹κ°„ κ°ν†µ ν„ν™© -->
        <div class="bg-white rounded-2xl p-4 md:p-5 shadow-sm border border-slate-100 mt-6 mb-10">
            <h3 class="font-bold text-slate-800 text-sm md:text-base mb-3 flex items-center border-b pb-2">
                <i data-lucide="bell" class="w-4 h-4 mr-1 text-red-500"></i> μ‹¤μ‹κ°„ κ°ν†µ ν„ν™©
            </h3>
            <div id="ticker-list" class="overflow-hidden relative h-32 md:h-12 space-y-3"></div>
        </div>
    </main>

    <!-- [ν•λ‹¨ κ³ μ • λ°”] -->
    <div class="fixed bottom-0 left-0 w-full bg-white border-t border-slate-200 shadow-[0_-4px_10px_rgba(0,0,0,0.1)] py-3 md:py-4 z-50">
        <div class="max-w-6xl mx-auto px-4 flex justify-between items-center">
            <div>
                <div class="flex items-center gap-1">
                    <img src="https://i.ibb.co/DDRdWK7Q/ktlogo.png" alt="KT Logo" class="h-5 md:h-6 mr-1">
                    <span class="text-xs md:text-sm font-bold text-slate-700">κ³µμ‹μΈμ¦ λ€λ¦¬μ </span>
                </div>
            </div>
            <div class="flex gap-2">
                <a href="http://pf.kakao.com/_XRxaan/chat" target="_blank" class="bg-[#FEE500] text-[#3c1e1e] hover:bg-[#fdd835] px-3 md:px-6 py-2.5 md:py-3 rounded-xl font-bold text-xs md:text-lg transition shadow-sm active:scale-95 flex items-center">
                    <i data-lucide="message-circle" class="w-4 h-4 md:w-5 md:h-5 mr-1 md:mr-1.5"></i> <span class="hidden md:inline">μΉ΄μΉ΄μ¤ν†΅ </span>λ¬Έμ
                </a>
                <button onclick="handleBottomApply()" class="bg-red-600 hover:bg-red-700 text-white px-4 md:px-6 py-2.5 md:py-3 rounded-xl font-bold text-xs md:text-lg transition shadow-lg transform active:scale-95">μ‹ μ²­ν•κΈ°</button>
            </div>
        </div>
    </div>

    <!-- [ν†µν•© μƒμ„Έ μ‹ μ²­ λ¨λ‹¬] (λ””μμΈ μ „λ©΄ κ°νΈ) -->
    <div id="detail-modal" class="hidden fixed inset-0 z-[9990] bg-white overflow-y-auto w-full h-full">
        <div class="max-w-5xl mx-auto px-4 py-6 md:p-12 pb-32">
            <!-- ν—¤λ” -->
            <div class="flex justify-between items-start mb-6 md:mb-8 sticky top-0 bg-white/95 backdrop-blur-md z-20 py-4 border-b border-slate-100">
                <div>
                    <span class="text-red-600 font-bold text-[10px] md:text-xs tracking-wider mb-1 block">KT OFFICIAL PARTNER</span>
                    <h2 class="text-xl md:text-3xl font-black text-slate-900 tracking-tight">μƒν’ μµμ… μ„ νƒ</h2>
                </div>
                <button onclick="closeDetailModal()" class="p-2 bg-slate-50 rounded-full hover:bg-slate-100 transition"><i data-lucide="x" class="w-5 h-5 md:w-6 md:h-6 text-slate-600"></i></button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12">
                <!-- [μ™Όμ½] μƒν’ μ΄λ―Έμ§€ & μ•λ‚΄ (4μΉΈ μ°¨μ§€) -->
                <div class="lg:col-span-5 flex flex-col">
                    <div class="lg:sticky lg:top-32">
                        <!-- μƒν’ μ΄λ―Έμ§€ λ°•μ¤ -->
                        <div class="w-full bg-slate-50 rounded-[2rem] p-6 md:p-8 mb-6 flex items-center justify-center border border-slate-100 shadow-soft aspect-square lg:aspect-[4/5] relative overflow-hidden">
                            <div class="absolute top-4 left-4 bg-white px-3 py-1 rounded-full border border-slate-200 text-[10px] font-bold text-slate-500 shadow-sm">κ³µμ‹μ¶κ³ κ°€ μ μ©</div>
                            <img id="detail-img" src="" class="w-2/3 md:w-3/4 max-w-sm drop-shadow-2xl transition-transform hover:scale-105 duration-500 object-contain" alt="μƒν’μ΄λ―Έμ§€">
                        </div>
                        
                        <div class="text-center mb-6 px-4">
                            <h3 id="detail-name" class="text-2xl md:text-3xl font-black text-slate-900 mb-2 tracking-tight">μƒν’λ…</h3>
                            <p class="text-slate-500 text-sm font-medium">μ„ νƒν•μ‹  λ¨λΈλ΅ μ „λ¬Έ μƒλ‹΄μ΄ μ ‘μλ©λ‹λ‹¤.</p>
                        </div>
                        
                        <!-- μ „λ¬Έκ°€ μ•λ‚΄ λ°•μ¤ -->
                        <div class="bg-blue-50 border border-blue-100 rounded-2xl p-5 text-center shadow-sm mx-0 md:mx-2 mb-6 lg:mb-0">
                            <div class="flex items-center justify-center mb-3">
                                <div class="w-8 h-8 md:w-10 md:h-10 bg-white text-blue-600 rounded-full flex items-center justify-center shadow-sm border border-blue-100">
                                    <i data-lucide="calculator" class="w-4 h-4 md:w-5 md:h-5"></i>
                                </div>
                            </div>
                            <h4 class="font-bold text-slate-900 mb-2 text-sm md:text-base">μ›” λ‚©λ¶€κΈμ•΅ μ•λ‚΄</h4>
                            <p class="text-xs text-slate-600 leading-relaxed word-keep-all">
                                κ³ κ°λ‹μ κ²°ν•© μ •λ³΄μ™€ κ°ν†µ μ‹μ μ μ§€μ›κΈμ— λ”°λΌ<br>
                                <strong>μµμ μ μ”κΈ μ„¤κ³„</strong>κ°€ λ‹¬λΌμ§ μ μμµλ‹λ‹¤.<br><br>
                                <span class="text-blue-600 font-bold bg-blue-100/50 px-2 py-1 rounded">μ „λ¬Έ μƒλ‹΄μ‚¬κ°€ 1:1λ΅ μ •ν™•ν• κΈμ•΅μ„ μ•λ‚΄ν•΄ λ“λ¦½λ‹λ‹¤.</span>
                            </p>
                        </div>
                    </div>
                </div>

                <!-- [μ¤λ¥Έμ½] μƒμ„Έ μµμ… νΌ (8μΉΈ μ°¨μ§€) -->
                <div class="lg:col-span-7 space-y-6 md:space-y-8">
                    <form id="detail-form" onsubmit="submitDetailOrder(event)">
                        
                        <!-- 1. κ°€μ… μ΅°κ±΄ (MOBILE ONLY) -->
                        <div class="section-box" id="sec-mobile-1">
                            <div class="section-title"><i data-lucide="check-circle-2" class="w-5 h-5 mr-2 text-slate-400"></i> κ°€μ… μ΅°κ±΄</div>
                            <div class="space-y-4">
                                <!-- κ°€μ… μ ν•: SELECT BOXλ΅ λ³€κ²½ -->
                                <div>
                                    <label class="group-label">κ°€μ… μ ν•</label>
                                    <select id="dt-join" class="custom-select" onchange="setJoinType(this.value)">
                                        <option value="μ‹ κ·κ°€μ…">μ‹ κ· κ°€μ…</option>
                                        <option value="λ²νΈμ΄λ™">λ²νΈ μ΄λ™</option>
                                        <option value="κΈ°κΈ°λ³€κ²½">κΈ°κΈ° λ³€κ²½</option>
                                    </select>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                    <div>
                                        <label class="group-label">ν„μ¬ ν†µμ‹ μ‚¬</label>
                                        <select id="dt-cur-mobile" class="custom-select bg-white">
                                            <option value="">μ„ νƒν•μ„Έμ”</option><option>SKT</option><option>KT</option><option>LG U+</option><option>μ•λ°ν°</option>
                                        </select>
                                    </div>
                                    <div id="sec-mobile-2">
                                        <label class="group-label">ν• λ¶€ κΈ°κ°„</label>
                                        <select id="dt-install" class="custom-select">
                                            <option>24κ°μ›”</option><option>30κ°μ›”</option><option>36κ°μ›”</option><option>48κ°μ›”</option><option>μΌμ‹λ¶</option>
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label class="group-label">κΈ°κΈ° μ©λ‰</label>
                                    <select id="dt-storage" class="custom-select"><option>256GB</option><option>512GB</option><option>1TB</option></select>
                                </div>
                            </div>
                        </div>

                        <!-- 2. μ”κΈμ  & ν• μΈ (MOBILE ONLY) -->
                        <div class="section-box" id="sec-mobile-3">
                            <div class="section-title"><i data-lucide="credit-card" class="w-5 h-5 mr-2 text-slate-400"></i> μ”κΈμ  λ° ν• μΈ</div>
                            <div class="space-y-4">
                                <div>
                                    <label class="group-label">μ”κΈμ  μ„ νƒ</label>
                                    <select id="dt-plan" class="custom-select font-bold text-slate-800 border-slate-300 ring-4 ring-slate-50">
                                        <option>μ΄μ΄μ¤ ν”„λ¦¬λ―Έμ—„ (110,000μ›)</option>
                                        <option selected>μ΄μ΄μ¤ λ² μ΄μ§ (90,000μ›) - μ¶”μ²</option>
                                        <option>μ‹¬ν” 69GB (69,000μ›)</option>
                                        <option>μ‹¬ν” 30GB (61,000μ›)</option>
                                        <option>μ‹λ‹μ–΄ λ² μ΄μ§ (49,000μ›)</option>
                                        <option>μ„Έμ΄λΈ (45,000μ›)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="group-label">ν• μΈ λ°©λ²•</label>
                                    <!-- ν• μΈ λ°©λ²• SELECT BOXλ΅ λ³€κ²½ -->
                                    <select id="dt-discount" class="custom-select" onchange="setDiscountType(this.value)">
                                        <option value="choice">μ„ νƒμ•½μ • (μ”κΈ 25% ν• μΈ)</option>
                                        <option value="public">κ³µμ‹μ§€μ›κΈ (κΈ°κΈ°κ°’ ν• μΈ)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- 3. λ¶€κ°€ ννƒ (MOBILE ONLY) -->
                        <div class="section-box" id="sec-mobile-4">
                            <div class="section-title"><i data-lucide="gift" class="w-5 h-5 mr-2 text-slate-400"></i> λ¶€κ°€ ννƒ</div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
                                <div>
                                    <label class="group-label">λ¶€κ°€μ„λΉ„μ¤</label>
                                    <select id="dt-add" class="custom-select"><option value="λ―Έμ„ νƒ">μ„ νƒ μ•ν•¨</option><option>ν•„μν© M1</option><option>ν•„μν© L3</option></select>
                                </div>
                                <div>
                                    <label class="group-label">ν΄λ€ν° λ³΄ν—</label>
                                    <select id="dt-ins" class="custom-select"><option value="λ―Έμ„ νƒ">μ„ νƒ μ•ν•¨</option><option>νμ†ν•</option><option>μΌλ°ν•</option><option>κ³ κΈ‰ν•(VIP)</option></select>
                                </div>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                <div>
                                    <label class="group-label">λ³µμ§€ν• μΈ</label>
                                    <select id="dt-welfare" class="custom-select"><option value="λ―Έμ„ νƒ">ν•΄λ‹Ή μ—†μ</option><option>μ¥μ• μΈ/κµ­κ°€μ κ³µμ</option><option>κΈ°μ΄μƒν™μκΈ‰μ</option><option>μ°¨μƒμ„κ³„μΈµ</option><option>κΈ°μ΄μ—°κΈμκΈ‰μ</option></select>
                                </div>
                                <div>
                                    <label class="group-label">μ ν΄μΉ΄λ“</label>
                                    <select id="dt-card" class="custom-select"><option value="λ―Έμ‹ μ²­">μ‹ μ²­ μ•ν•¨</option><option value="μ‹ μ²­">μƒλ‹΄ μ‹ μ•λ‚΄ μ”μ²­</option></select>
                                </div>
                            </div>
                        </div>

                        <!-- 4. μΈν„°λ„· κ²°ν•© (Mobile: Optional Checkbox, Internet: Forced Expanded) -->
                        <div class="section-box bg-slate-50 border-slate-200" id="sec-internet">
                            <label class="flex items-center cursor-pointer select-none" id="internet-check-label">
                                <input type="checkbox" id="check-internet-add" class="w-5 h-5 accent-red-600 mr-3 rounded border-gray-300" onchange="toggleInternetOption()">
                                <span class="font-bold text-slate-900">μΈν„°λ„·+TV ν•¨κ» κ°€μ… (μµλ€ μ‚¬μ€ν’)</span>
                            </label>
                            
                            <div id="internet-options" class="hidden pt-4 border-t border-slate-200 mt-4 space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div><span class="group-label">ν„μ¬ μΈν„°λ„·</span><select id="dt-cur-net" class="custom-select"><option>μ—†μ</option><option>KT</option><option>SKT</option><option>LG U+</option></select></div>
                                    <div><span class="group-label">ν¬λ§ μ†λ„</span><select id="dt-net-speed" class="custom-select"><option>100M (μ¬λ¦Ό)</option><option>500M (λ² μ΄μ§)</option><option>1G (μ—μ„Όμ¤)</option></select></div>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div><span class="group-label">TV μƒν’</span><select id="dt-tv" class="custom-select"><option>λ² μ΄μ§</option><option>λ¨λ“ G</option><option>λ””μ¦λ‹+λ¨λ“ G</option></select></div>
                                    <div><span class="group-label">μ…‹νƒ‘λ°•μ¤</span><select id="dt-stb" class="custom-select"><option>κΈ°κ°€μ§€λ‹A</option><option>κΈ°κ°€μ§€λ‹3A</option><option>μ§€λ‹μ…‹νƒ‘4</option><option>μ‚¬μ΄λ“λ°”</option></select></div>
                                </div>
                                <div><span class="group-label">κ²°ν•© ν¬λ§</span><select id="dt-combine" class="custom-select"><option>κ°€μ΅±κ²°ν•©</option><option>μ‹±κΈ€κ²°ν•©</option><option>λ―Έμ„ νƒ</option></select></div>
                            </div>
                        </div>

                        <!-- 6. μµμΆ… μ‹ μ²­ -->
                        <div class="bg-slate-900 rounded-2xl p-6 md:p-8 text-white shadow-xl">
                            <h4 class="text-lg font-bold mb-6 flex items-center"><i data-lucide="pen-line" class="w-5 h-5 mr-2"></i> μ‹ μ²­μ μ •λ³΄ μ…λ ¥</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-5 mb-6">
                                <div>
                                    <label class="block text-xs text-slate-400 mb-2 ml-1">μ„±ν•¨</label>
                                    <input type="text" id="dt-name" required class="w-full bg-slate-800 border border-slate-700 rounded-xl p-3.5 text-sm text-white focus:border-red-500 outline-none placeholder-slate-500" placeholder="μ: ν™κΈΈλ™">
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-2 ml-1">μ—°λ½μ²</label>
                                    <input type="tel" id="dt-phone" required class="w-full bg-slate-800 border border-slate-700 rounded-xl p-3.5 text-sm text-white focus:border-red-500 outline-none placeholder-slate-500" placeholder="μ: 010-1234-5678">
                                </div>
                            </div>
                            <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white py-4 rounded-xl font-bold text-lg transition-all shadow-lg hover:shadow-red-900/30 flex items-center justify-center">
                                μƒλ‹΄ μμ•½ μ ‘μν•κΈ° <i data-lucide="chevron-right" class="w-5 h-5 ml-1"></i>
                            </button>
                            <div class="mt-4 flex items-center justify-center text-[10px] text-slate-500">
                                <i data-lucide="lock" class="w-3 h-3 mr-1"></i> κ°μΈμ •λ³΄λ” μƒλ‹΄ λ©μ μΌλ΅λ§ μ•μ „ν•κ² μ‚¬μ©λ©λ‹λ‹¤.
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- κ°„νΈ μƒλ‹΄ (ν™/λ¨λ°”μΌμ©) -->
    <div id="apply-modal" class="hidden fixed inset-0 z-[9999] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm p-4">
        <div class="bg-white w-full max-w-md rounded-2xl p-6 shadow-2xl animate-in slide-in-from-bottom-10 fade-in max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6"><h3 class="text-xl font-bold">κ°„νΈ μƒλ‹΄ μ‹ μ²­</h3><button onclick="closeForm()">X</button></div>
            <form onsubmit="submitLead(event)">
                <input id="user-name" placeholder="μ΄λ¦„" class="border p-2 w-full mb-2"><input id="user-phone" placeholder="μ—°λ½μ²" class="border p-2 w-full mb-2">
                <button class="bg-slate-900 text-white w-full p-3 rounded">μ‹ μ²­</button>
            </form>
        </div>
    </div>

    <!-- μ™„λ£ λ¨λ‹¬ -->
    <div id="success-modal" class="hidden fixed inset-0 z-[10000] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200">
        <div class="bg-white p-8 rounded-3xl text-center shadow-2xl w-80 transform transition-all scale-100">
            <div class="w-16 h-16 bg-green-50 text-green-500 rounded-full flex items-center justify-center mx-auto mb-5 shadow-sm">
                <i data-lucide="check" class="w-8 h-8"></i>
            </div>
            <h3 class="font-bold text-xl mb-2 text-slate-900">μ ‘μ μ™„λ£</h3>
            <p class="text-sm text-slate-500 mb-6 leading-relaxed">
                μƒλ‹΄ μμ•½μ΄ μ •μƒμ μΌλ΅ μ ‘μλμ—μµλ‹λ‹¤.<br>
                λ‹΄λ‹Ήμκ°€ λΉ λ¥΄κ² μ—°λ½λ“λ¦¬κ² μµλ‹λ‹¤.
            </p>
            <button onclick="document.getElementById('success-modal').classList.add('hidden')" class="w-full bg-slate-900 hover:bg-black text-white py-3 rounded-xl text-sm font-bold transition">ν™•μΈ</button>
        </div>
    </div>

    <script>
        // IIFEλ¥Ό μ‚¬μ©ν•μ—¬ λ¨λ“  ν•¨μμ™€ λ³€μλ¥Ό μΊ΅μν™”ν•κ³  ν•„μ”ν• κ²ƒλ§ windowμ— λ…Έμ¶
        (function() {
            
            // ----------------------------------------------------
            // 1. [λ°μ΄ν„° λ° μƒνƒ κ΄€λ¦¬]
            // ----------------------------------------------------
            
            lucide.createIcons();

            // μΈν„°λ„· μ”κΈμ  λ°μ΄ν„°
            const internetRates = {
                '100M': { 'genieA': { basic: {org:'37,400μ›', sale:'31,900μ›'}, all: {org:'42,900μ›', sale:'37,400μ›'}, ott: {org:'45,200μ›', sale:'39,700μ›'} }, 'genie3A': { basic: {org:'38,500μ›', sale:'33,000μ›'}, all: {org:'44,000μ›', sale:'38,500μ›'}, ott: {org:'46,300μ›', sale:'40,800μ›'} }, 'genie4': { basic: {org:'40,700μ›', sale:'35,200μ›'}, all: {org:'46,200μ›', sale:'40,700μ›'}, ott: {org:'48,500μ›', sale:'43,000μ›'} }, 'sound': { basic: {org:'42,900μ›', sale:'37,400μ›'}, all: {org:'46,200μ›', sale:'40,700μ›'}, ott: {org:'48,500μ›', sale:'43,000μ›'} } },
                '500M': { 'genieA': { basic: {org:'42,900μ›', sale:'37,400μ›'}, all: {org:'48,400μ›', sale:'42,900μ›'}, ott: {org:'50,700μ›', sale:'45,200μ›'} }, 'genie3A': { basic: {org:'44,000μ›', sale:'38,500μ›'}, all: {org:'49,500μ›', sale:'44,000μ›'}, ott: {org:'51,800μ›', sale:'46,300μ›'} }, 'genie4': { basic: {org:'46,200μ›', sale:'40,700μ›'}, all: {org:'51,700μ›', sale:'46,200μ›'}, ott: {org:'54,000μ›', sale:'48,500μ›'} }, 'sound': { basic: {org:'48,400μ›', sale:'42,900μ›'}, all: {org:'51,700μ›', sale:'46,200μ›'}, ott: {org:'54,000μ›', sale:'48_500μ›'} } },
                '1G': { 'genieA': { basic: {org:'48,400μ›', sale:'42,900μ›'}, all: {org:'53,900μ›', sale:'48,400μ›'}, ott: {org:'56,200μ›', sale:'50,700μ›'} }, 'genie3A': { basic: {org:'49,500μ›', sale:'44,000μ›'}, all: {org:'55,000μ›', sale:'49,500μ›'}, ott: {org:'57,300μ›', sale:'51,800μ›'} }, 'genie4': { basic: {org:'51,700μ›', sale:'46,200μ›'}, all: {org:'57,200μ›', sale:'51,700μ›'}, ott: {org:'59,500μ›', sale:'54,000μ›'} }, 'sound': { basic: {org:'53,900μ›', sale:'48,400μ›'}, all: {org:'57,200μ›', sale:'51,700μ›'}, ott: {org:'59,500μ›', sale:'54,000μ›'} } }
            };

            let CURRENT_NET_SPEED = '100M';
            let CURRENT_SETTOP = 'genieA';
            let SELECTED_PRODUCT = null;
            let selectedJoinType = 'μ‹ κ·κ°€μ…';
            let selectedDiscountType = 'choice'; 
            
            const ALL_PRODUCTS = [
                { id: 's25u', category: 'samsung', brand: 'SAMSUNG', name: 'κ°¤λ­μ‹ S25 μΈνΈλΌ', img: 'https://i.ibb.co/wNtM71DY/s938.jpg', badge: 'BEST' },
                { id: 's25p', category: 'samsung', brand: 'SAMSUNG', name: 'κ°¤λ­μ‹ S25+', img: 'https://i.ibb.co/BhsV2vM/s931.jpg', badge: 'NEW' },
                { id: 's25e', category: 'samsung', brand: 'SAMSUNG', name: 'κ°¤λ­μ‹ S25 μ—£μ§€', img: 'https://i.ibb.co/cc9gNbQS/s936.jpg', badge: 'NEW' },
                { id: 's25fe', category: 'samsung', brand: 'SAMSUNG', name: 'κ°¤λ­μ‹ S25 FE', img: 'https://i.ibb.co/gKcj96C/s25fe.jpg', badge: 'κ°€μ„±λΉ„' },
                { id: 's24u', category: 'samsung', brand: 'SAMSUNG', name: 'κ°¤λ­μ‹ S24 μΈνΈλΌ', img: 'https://images.unsplash.com/photo-1706606992663-149b389b0243?w=500', badge: 'νΉκ°€' },
                { id: 'zfold7', category: 'samsung', brand: 'SAMSUNG', name: 'κ°¤λ­μ‹ Z ν΄λ“ 7', img: 'https://i.ibb.co/gbLrGSQv/f966.jpg', badge: 'μ‹ μƒ' },
                { id: 'zflip7', category: 'samsung', brand: 'SAMSUNG', name: 'κ°¤λ­μ‹ Z ν”λ¦½ 7', img: 'https://i.ibb.co/yFPsLH8C/f766.jpg', badge: 'μΈκΈ°' },
                { id: 'zflip7fe', category: 'samsung', brand: 'SAMSUNG', name: 'κ°¤λ­μ‹ Z ν”λ¦½ 7 FE', img: 'https://i.ibb.co/hhvYVdz/f766fe.jpg', badge: 'μ¶”μ²' },
                { id: 'jump4', category: 'samsung', brand: 'SAMSUNG', name: 'κ°¤λ­μ‹ μ ν”„ 4', img: 'https://i.ibb.co/pBpr4WCm/m366.jpg', badge: 'κ³µμ§ν°' },
                { id: 'mom_s', category: 'samsung', brand: 'SAMSUNG', name: 'λ§νΈμ•ν° S', img: 'https://i.ibb.co/cK85Lt1r/m366mom.jpg', badge: 'ν¨λ„ν°' },
                { id: 'a17', category: 'samsung', brand: 'SAMSUNG', name: 'κ°¤λ­μ‹ A17', img: 'https://i.ibb.co/1fzPxCdS/a175.jpg', badge: '' },
                { id: 'ip17pm', category: 'apple', brand: 'APPLE', name: 'μ•„μ΄ν° 17 ν”„λ΅ λ§¥μ¤', img: 'https://i.ibb.co/TM5mcm2H/aip17pm.jpg', badge: 'NEW' },
                { id: 'ip17p', category: 'apple', brand: 'APPLE', name: 'μ•„μ΄ν° 17 ν”„λ΅', img: 'https://i.ibb.co/BK6XfdZd/aip17p.jpg', badge: 'HOT' },
                { id: 'ip17', category: 'apple', brand: 'APPLE', name: 'μ•„μ΄ν° 17', img: 'https://i.ibb.co/60GKwz8T/aip17.jpg', badge: 'NEW' },
                { id: 'ip_air', category: 'apple', brand: 'APPLE', name: 'μ•„μ΄ν° μ—μ–΄', img: 'https://i.ibb.co/GSfGqG7/aipa.jpg', badge: 'SLIM' },
                { id: 'ip16pm', category: 'apple', brand: 'APPLE', name: 'μ•„μ΄ν° 16 ν”„λ΅ λ§¥μ¤', img: 'https://i.ibb.co/VWdJnPLt/aip16pm.jpg', badge: 'BEST' },
                { id: 'ip16p', category: 'apple', brand: 'APPLE', name: 'μ•„μ΄ν° 16 ν”„λ΅', img: 'https://i.ibb.co/Z6g52v9B/aip16p.jpg', badge: 'μΈκΈ°' },
                { id: 'ip16plus', category: 'apple', brand: 'APPLE', name: 'μ•„μ΄ν° 16 ν”λ¬μ¤', img: 'https://i.ibb.co/JwQzq4m4/aip16plus.jpg', badge: 'ν™”λ©΄νΌ' }, 
                { id: 'ip16', category: 'apple', brand: 'APPLE', name: 'μ•„μ΄ν° 16', img: 'https://i.ibb.co/NgJZGMQv/aip16.jpg', badge: 'ν• μΈ' },
                { id: 'ip16e', category: 'apple', brand: 'APPLE', name: 'μ•„μ΄ν° 16e', img: 'https://i.ibb.co/Mxx4bzz3/aip16e.jpg', badge: 'κ°€μ„±λΉ„' }
            ];


            // ----------------------------------------------------
            // 2. [μ£Όμ” κΈ°λ¥ ν•¨μ]
            // ----------------------------------------------------

            function updateInternetPricing() {
                const data = internetRates[CURRENT_NET_SPEED][CURRENT_SETTOP];
                document.getElementById('net-title').innerText = {'100M':'μ¬λ¦Ό', '500M':'λ² μ΄μ§', '1G':'μ—μ„Όμ¤'}[CURRENT_NET_SPEED];
                
                const stbText = {'genieA':'κΈ°κ°€μ§€λ‹A', 'genie3A':'κΈ°κ°€μ§€λ‹3', 'genie4':'μ§€λ‹4', 'sound':'μ‚¬μ΄λ“λ°”'}[CURRENT_SETTOP] + " μ…‹νƒ‘";
                document.querySelectorAll('.st-name').forEach(el => el.innerText = stbText);

                document.getElementById('price-basic-origin').innerText = data.basic.org;
                document.getElementById('price-basic-sale').innerText = data.basic.sale;
                document.getElementById('price-all-origin').innerText = data.all.org;
                document.getElementById('price-all-sale').innerText = data.all.sale;
                document.getElementById('price-ott-origin').innerText = data.ott.org;
                document.getElementById('price-ott-sale').innerText = data.ott.sale;

                document.querySelectorAll('.internet-tab').forEach(b => b.classList.remove('active', 'bg-black', 'text-white'));
                const speedId = CURRENT_NET_SPEED==='100M'?'btn-100m':(CURRENT_NET_SPEED==='500M'?'btn-500m':'btn-1g');
                document.getElementById(speedId).classList.add('active', 'bg-black', 'text-white');

                document.querySelectorAll('.stb-btn').forEach(b => b.classList.remove('active', 'bg-black', 'text-white'));
                const stbMap = {'genieA':0, 'genie3A':1, 'genie4':2, 'sound':3};
                document.querySelectorAll('.stb-btn')[stbMap[CURRENT_SETTOP]].classList.add('active', 'bg-black', 'text-white');
            }

            function renderGrid(items) {
                const grid = document.getElementById('product-grid');
                grid.innerHTML = items.map(p => `
                    <div class="group bg-white rounded-2xl p-6 shadow-lg border border-slate-100 hover:-translate-y-1 hover:shadow-xl transition-all duration-300 flex flex-col items-center text-center relative overflow-hidden animate-in fade-in">
                        ${p.badge ? `<div class="absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl z-10">${p.badge}</div>` : ''}
                        <div class="mb-4 relative w-full aspect-[4/3] flex items-center justify-center bg-slate-50 rounded-xl overflow-hidden">
                             <span class="absolute top-2 left-2 bg-slate-100 text-slate-500 text-[10px] font-bold px-2 py-1 rounded">${p.brand}</span>
                            <img src="${p.img}" class="w-3/4 object-contain drop-shadow-lg group-hover:scale-105 transition-transform" alt="${p.name}">
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-1">${p.name}</h3>
                        <button onclick="openDetailModal('${p.id}')" class="mt-4 w-full bg-white border border-slate-300 text-slate-700 py-3 rounded-xl font-bold text-sm hover:bg-slate-50 transition shadow-sm">μμ„Ένλ³΄κΈ°</button>
                    </div>
                `).join('');
            }

            function toggleInternetOption() {
                const chk = document.getElementById('check-internet-add');
                const opts = document.getElementById('internet-options');
                if(chk.checked) opts.classList.remove('hidden'); else opts.classList.add('hidden');
            }

            // ----------------------------------------------------
            // 3. [κ³µκ° ν•¨μ (HTMLμ—μ„ νΈμ¶)]
            // ----------------------------------------------------
            
            window.setNetSpeed = function(s) { CURRENT_NET_SPEED = s; updateInternetPricing(); }
            window.setSettop = function(s) { CURRENT_SETTOP = s; updateInternetPricing(); }
            
            window.toggleNetType = function(type) {
                const bundleView = document.getElementById('view-bundle');
                const singleView = document.getElementById('view-single');
                const btnBundle = document.getElementById('tab-bundle');
                const btnSingle = document.getElementById('tab-single');

                if(type === 'bundle') {
                    bundleView.classList.remove('hidden');
                    singleView.classList.add('hidden');
                    btnBundle.classList.remove('bg-transparent', 'text-slate-500');
                    btnBundle.classList.add('bg-white', 'shadow', 'text-black');
                    btnSingle.classList.remove('bg-white', 'shadow', 'text-black');
                    btnSingle.classList.add('bg-transparent', 'text-slate-500');
                } else {
                    bundleView.classList.add('hidden');
                    singleView.classList.remove('hidden');
                    btnSingle.classList.remove('bg-transparent', 'text-slate-500');
                    btnSingle.classList.add('bg-white', 'shadow', 'text-black');
                    btnBundle.classList.remove('bg-white', 'shadow', 'text-black');
                    btnBundle.classList.add('bg-transparent', 'text-slate-500');
                }
            }

            window.filterProducts = function(category) {
                const grid = document.getElementById('product-grid');
                const internetSec = document.getElementById('internet-pricing-section');
                const topSec = document.getElementById('home-top-section');
                const secTitle = document.getElementById('section-title');
                
                grid.classList.add('hidden');
                internetSec.classList.add('hidden');
                topSec.classList.add('hidden');
                
                if (category === 'home') {
                    grid.classList.remove('hidden');
                    topSec.classList.remove('hidden');
                    secTitle.innerText = "π† BEST SELLER";
                    renderGrid(ALL_PRODUCTS.filter(p => ['s25u', 'ip17', 'a17'].includes(p.id)));
                } else if (category === 'internet') {
                    internetSec.classList.remove('hidden');
                    secTitle.innerText = "";
                } else {
                    grid.classList.remove('hidden');
                    let filtered = [];
                    if (category === 'all') filtered = ALL_PRODUCTS;
                    else if (category === 'samsung') filtered = ALL_PRODUCTS.filter(p => p.category === 'samsung');
                    else if (category === 'apple') filtered = ALL_PRODUCTS.filter(p => p.category === 'apple');
                    secTitle.innerText = "π“± " + category.toUpperCase();
                    renderGrid(filtered);
                }
                
                document.querySelectorAll('.nav-item').forEach(item => {
                    if (item.getAttribute('data-tab') === category) item.classList.add('active', 'text-red-600', 'border-b-2', 'border-red-600'); 
                    else item.classList.remove('active', 'text-red-600', 'border-b-2', 'border-red-600');
                });
            }
            
            window.openOrderForm = function(type) {
                if(type === 'μΈν„°λ„·+TV') window.openDetailModal('μΈν„°λ„·+TV');
            }

            window.openDetailModal = function(id, preSelectedTvProduct = null) {
                if (id === 'μΈν„°λ„·+TV') {
                    SELECTED_PRODUCT = { name: 'μΈν„°λ„·+TV κ°€μ…', img: 'https://i.ibb.co/XkbkbLQp/jini.jpg' };
                    document.getElementById('check-internet-add').checked = true;
                    
                    ['sec-mobile-1', 'sec-mobile-3', 'sec-mobile-4'].forEach(id => {
                        if(document.getElementById(id)) document.getElementById(id).classList.add('hidden');
                    });

                    const speedMap = { '100M': '100M (μ¬λ¦Ό)', '500M': '500M (λ² μ΄μ§)', '1G': '1G (μ—μ„Όμ¤)' };
                    const stbMap = { 'genieA': 'κΈ°κ°€μ§€λ‹A', 'genie3A': 'κΈ°κ°€μ§€λ‹3A', 'genie4': 'μ§€λ‹μ…‹νƒ‘4', 'sound': 'μ‚¬μ΄λ“λ°”' };

                    if(document.getElementById('dt-net-speed') && speedMap[CURRENT_NET_SPEED]) document.getElementById('dt-net-speed').value = speedMap[CURRENT_NET_SPEED];
                    if(document.getElementById('dt-stb') && stbMap[CURRENT_SETTOP]) document.getElementById('dt-stb').value = stbMap[CURRENT_SETTOP];
                    if(document.getElementById('dt-tv') && preSelectedTvProduct) document.getElementById('dt-tv').value = preSelectedTvProduct;
                    
                    toggleInternetOption();
                } 
                else {
                    SELECTED_PRODUCT = ALL_PRODUCTS.find(p => p.id === id);
                    document.getElementById('check-internet-add').checked = false;
                    
                     ['sec-mobile-1', 'sec-mobile-3', 'sec-mobile-4'].forEach(id => {
                        if(document.getElementById(id)) document.getElementById(id).classList.remove('hidden');
                    });
                    
                    toggleInternetOption();
                }
                
                if (!SELECTED_PRODUCT) return;

                document.getElementById('detail-img').src = SELECTED_PRODUCT.img;
                document.getElementById('detail-name').innerText = SELECTED_PRODUCT.name;
                document.getElementById('dt-join').value = 'μ‹ κ·κ°€μ…'; // κΈ°λ³Έκ°’ μ„¤μ • (μ…€λ ‰νΈ λ°•μ¤)
                document.getElementById('dt-discount').value = 'choice'; // κΈ°λ³Έκ°’ μ„¤μ • (μ…€λ ‰νΈ λ°•μ¤)
                document.getElementById('detail-form').reset();
                
                setJoinType('μ‹ κ·κ°€μ…'); // λ²„νΌ ν™μ„±ν™” (λ¨λ°”μΌμ©)
                setDiscountType('choice'); // λ²„νΌ ν™μ„±ν™” (λ¨λ°”μΌμ©)
                
                document.getElementById('detail-modal').classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }

            window.closeDetailModal = function() {
                document.getElementById('detail-modal').classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
            window.closeForm = function() { document.getElementById('apply-modal').classList.add('hidden'); }

            window.setJoinType = function(type) {
                selectedJoinType = type;
                const btns = document.querySelectorAll('.join-btn');
                btns.forEach(btn => btn.classList.remove('active'));
                
                // κ°€μ…μ ν• λ²„νΌμ ν…μ¤νΈλ¥Ό κΈ°μ¤€μΌλ΅ ν™μ„±ν™”
                btns.forEach(btn => {
                    if (btn.innerText.trim().startsWith(type.split('')[0])) {
                        btn.classList.add('active');
                    }
                });
                
                // λ“λ΅­λ‹¤μ΄ κ°’λ„ μ—…λ°μ΄νΈ 
                const selectElement = document.getElementById('dt-join');
                if (selectElement) selectElement.value = type;
            }

            window.setDiscountType = function(type) {
                selectedDiscountType = type;
                const btns = document.querySelectorAll('.disc-btn');
                btns.forEach(btn => btn.classList.remove('active'));
                
                // ν• μΈλ°©λ²• λ²„νΌμ ν…μ¤νΈλ¥Ό κΈ°μ¤€μΌλ΅ ν™μ„±ν™”
                btns.forEach(btn => {
                    if (btn.innerText.trim().includes(type === 'choice' ? 'μ„ νƒμ•½μ •' : 'κ³µμ‹μ§€μ›κΈ')) {
                        btn.classList.add('active');
                    }
                });

                // λ“λ΅­λ‹¤μ΄ κ°’λ„ μ—…λ°μ΄νΈ
                const selectElement = document.getElementById('dt-discount');
                if (selectElement) selectElement.value = type;
            }

            window.toggleInternetOption = function() {
                const chk = document.getElementById('check-internet-add');
                const opts = document.getElementById('internet-options');
                if(chk.checked) opts.classList.remove('hidden'); else opts.classList.add('hidden');
            }

            // 5. ν†µν•© μ‹ μ²­ μ „μ†΅ λ΅μ§
            window.submitDetailOrder = function(e) {
                e.preventDefault();
                const name = document.getElementById('dt-name').value;
                const phone = document.getElementById('dt-phone').value;
                
                let promo_item = "";
                const isInternetOnly = SELECTED_PRODUCT.name === 'μΈν„°λ„·+TV κ°€μ…';
                
                const finalJoinType = document.getElementById('dt-join').value;
                const discountType = document.getElementById('dt-discount').value;

                if (!isInternetOnly) {
                    const joinType = finalJoinType;
                    const curMobile = document.getElementById('dt-cur-mobile').value;
                    const storage = document.getElementById('dt-storage').value;
                    const plan = document.getElementById('dt-plan').options[document.getElementById('dt-plan').selectedIndex].text;
                    const discount = discountType === 'μ„ νƒμ•½μ •' ? 'μ„ νƒμ•½μ •' : 'κ³µμ‹μ§€μ›κΈ';
                    const install = document.getElementById('dt-install').value;
                    const addService = document.getElementById('dt-add').value;
                    const insurance = document.getElementById('dt-ins').value;
                    const welfare = document.getElementById('dt-welfare').value;
                    const card = document.getElementById('dt-card').value;

                    promo_item += `[λ¬΄μ„ μ‹ μ²­]\nλ¨λΈ: ${SELECTED_PRODUCT.name} (${storage})\nκ°€μ…μ ν•: ${joinType}\nν†µμ‹ μ‚¬: ${curMobile}\nμ”κΈμ : ${plan}\nν• μΈ: ${discount}\nν• λ¶€: ${install}\nλ¶€κ°€: ${addService}\nλ³΄ν—: ${insurance}\nλ³µμ§€: ${welfare}\nμΉ΄λ“: ${card}\n\n`;
                }

                if(document.getElementById('check-internet-add').checked || isInternetOnly) {
                    const i_cur = document.getElementById('dt-cur-net').value;
                    const i_speed = document.getElementById('dt-net-speed').value;
                    const i_tv = document.getElementById('dt-tv').value;
                    const i_stb = document.getElementById('dt-stb').value;
                    const i_comb = document.getElementById('dt-combine').value;
                    
                    promo_item += `[μ μ„ μ‹ μ²­]\nν„μ¬μΈν„°λ„·: ${i_cur}\nμ†λ„: ${i_speed}\nTV: ${i_tv}\nμ…‹νƒ‘: ${i_stb}\nκ²°ν•©: ${i_comb}`;
                }

                const templateParams = { 
                    name: name, 
                    phone: phone, 
                    branch: 'μ¨λΌμΈμƒμ„Έμ ‘μ',
                    mobile_carrier: isInternetOnly ? '-' : document.getElementById('dt-cur-mobile').value,
                    internet_carrier: '-', 
                    current_fee: 'μƒλ‹΄ μ‹ ν™•μΈ',
                    desired_model: SELECTED_PRODUCT.name,
                    promo_item: promo_item,
                    date: new Date().toLocaleString(),
                    manager_email: 'pbh350111@gmail.com'
                };
                
                emailjs.send('service_tje5nks', 'template_g02rutc', templateParams)
                .then(() => {
                    closeDetailModal();
                    document.getElementById('success-modal').classList.remove('hidden');
                })
                .catch((err) => {
                    alert("μ „μ†΅ μ‹¤ν¨: " + JSON.stringify(err));
                });
            }
            
            window.submitLead = function(e) { 
                e.preventDefault();
                const name = document.getElementById('user-name').value;
                const phone = document.getElementById('user-phone').value;
                
                 const templateParams = { 
                    name: name, 
                    phone: phone, 
                    branch: 'κ°„νΈμƒλ‹΄',
                    mobile_carrier: '-', internet_carrier: '-', current_fee: '-', desired_model: '-', promo_item: 'κ°„νΈ μƒλ‹΄ μ”μ²­',
                    date: new Date().toLocaleString(),
                    manager_email: 'pbh350111@gmail.com'
                };

                emailjs.send('service_tje5nks', 'template_g02rutc', templateParams)
                .then(() => {
                    closeForm();
                    document.getElementById('success-modal').classList.remove('hidden');
                })
                .catch((err) => {
                    alert("μ „μ†΅ μ‹¤ν¨: " + JSON.stringify(err));
                });
            }

            window.handleBottomApply = function() {
                const internet = document.getElementById('internet-pricing-section');
                const applyModal = document.getElementById('apply-modal');
                
                if (internet && !internet.classList.contains('hidden')) {
                     openDetailModal('μΈν„°λ„·+TV');
                } else {
                     if(applyModal) applyModal.classList.remove('hidden');
                }
            }
            
            window.onload = function() {
                updateInternetPricing();
                startTicker();
                startBanner();
                filterProducts('home'); 
            }

        })();
    </script>
</body>
</html>
